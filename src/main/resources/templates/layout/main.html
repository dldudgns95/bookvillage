<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{/layout/header::head('책빌리지')}"></head>

<script th:src="@{/js/main.js}"></script>


<style>
  .main_notice_list {
    width: 100%;
    display: flex;
    margin: 10px;
    justify-content: center;
  }

  .main_notice_list_box1,
  .main_notice_list_box2 {
    font-size: 12px;
    width: calc(50% - 10px);
    height: 300px;
    box-sizing: border-box;
    justify-content: space-between;
    padding: 10px;
  }

  .main_notice_list_box1 {
  }

  .notice_list {
    margin: 10px;
    justify-content: center;
  }

  .swiper-slide-box {
    width: 100%;
  }

  .detail_img {
    display: flex;
    flex: 3;
    left: 20px;
    margin-right: 20px;
  }

  .search_inline {
    display: inline-block;
  }


  
</style>

<body>
  
  <div th:replace="~{/layout/header::header}"></div>
  
  <div class="main_wrap">
    
    <!-- Slider main container -->
    <div class="swiper first">
      <!-- Additional required wrapper -->

      <div class="swiper-wrapper">
        <!-- Slides -->
        <div class="swiper-slide">
          <img class="main1" th:src="@{'/image/long_banner2.png'}" alt="Banner Image">
        </div>
        <div class="swiper-slide">
          <img class="main1" th:src="@{'/image/long_banner3.png'}" alt="Banner Image">
        </div>
        <div class="swiper-slide">
          <img class="main1" th:src="@{'/image/long_banner1.png'}" alt="Banner Image">
        </div>
      </div>
      
      <!-- If we need pagination -->
      <div class="swiper-pagination"></div>
    
      <!-- If we need navigation buttons -->
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>

    </div>

    
    <!-- 슬라이드 밑 박스 2개 -->

    <div class="main_notice_list">
      
    <!-- 첫 번째 박스 - 공지사항 목록 -->
      <div class="main_notice_list_box1">

        <div class="table-responsive notice_list">
          <h3 class="title2">공지사항</h3>
          
          <table  class="table align-middle">
            <thead>
              <tr>
                <td>순번</td>
                <td>제목</td>
                <td>작성날자</td>
              </tr>              
            </thead>
            <tbody id="ntBoby"></tbody>
          </table>
          
        </div>


      </div>
  
      <!-- 두 번째 박스 FAQ 목록-->
      <div class="main_notice_list_box2">
        
        <div class="table-responsive notice_list">
            <h3 class="title2">FAQ</h3>
            
            <table class="table align-middle">
                <thead>
                    <tr>
                        <td>순번</td>
                        <td>제목</td>
                        <td>내용</td>
                    </tr>
                </thead>
                <tbody id="faqTableBody"></tbody>
            </table>
        </div>
        
      </div>
      
      
    </div>
    
   <!-- 신간도서 슬라이드  th:each="bookDetail:${bookDetailList}" -->
<div>
  
  <div class="title2">신간 도서 목록</div>
    
      <div id="bookContainer" class="book_list"></div>



  </div>
</div>

    <div class="owl-carousel">
    <!-- 이미지 목록 반복 -->
    <div th:each="book : ${book}">
        <img th:src="${book.cover}" alt="Slide Image">
    </div>
</div>
    
    
    
  </div>
  
  
  <script>
    $(document).ready(function () {
        $.ajax({
            url: '/main/bookImageList.do',
            type: 'GET',
            success: function (data) {
                // 서버에서 받은 데이터(data)를 활용하여 이미지 슬라이드를 구성
                // 예: 각 이미지에 대한 반복문
                data.forEach(function (book) {
                    $('.owl-carousel').append('<div><img src="' + book.cover + '" alt="Slide Image"></div>');
                });

                // Owl Carousel 초기화
                $(".owl-carousel").owlCarousel({
                    items: 1,
                    loop: true,
                    autoplay: true,
                    autoplayTimeout: 3000,
                    autoplayHoverPause: true
                });
            },
            error: function (error) {
                console.error('Error fetching book list:', error);
            }
        });
    });
</script>

  <div th:replace="~{/layout/footer::footer}"></div>
  
</body>
</html>